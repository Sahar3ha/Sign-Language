{"ast":null,"code":"var _jsxFileName = \"C:\\\\Mediapipe\\\\sign-language-translator\\\\src\\\\Pages\\\\VideoRecon.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoRecognition = () => {\n  _s();\n  const [gesture, setGesture] = useState(null);\n  const [error, setError] = useState(null);\n  const videoRef = useRef(null);\n  useEffect(() => {\n    const startVideo = async () => {\n      try {\n        console.log('Requesting access to webcam...');\n        const constraints = {\n          video: {\n            width: {\n              ideal: 1280\n            },\n            height: {\n              ideal: 720\n            },\n            facingMode: 'user'\n          }\n        };\n        const stream = await navigator.mediaDevices.getUserMedia(constraints);\n        console.log('Access granted to webcam.');\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      } catch (err) {\n        setError('Could not start video source');\n        console.error('Error accessing webcam: ', err);\n      }\n    };\n    startVideo();\n  }, []);\n  const recognizeGestureFromVideo = async () => {\n    if (!videoRef.current) return;\n    const video = videoRef.current;\n    const canvas = document.createElement('canvas');\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);\n    const dataUrl = canvas.toDataURL('image/jpeg');\n    console.log('Captured frame:', dataUrl);\n    try {\n      const response = await axios.post('/api/recognize_video', {\n        image: dataUrl\n      });\n      console.log('Response from server:', response.data);\n      setGesture(response.data.gesture);\n    } catch (error) {\n      console.error('Error recognizing gesture:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-1/2 flex justify-center items-center bg-gray-200\",\n      children: error ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        className: \"w-full h-auto border border-gray-300\",\n        autoPlay: true,\n        playsInline: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-1/2 flex flex-col justify-center items-center bg-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold mb-4\",\n        children: \"Real-Time Video Gesture Recognition\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: recognizeGestureFromVideo,\n        className: \"bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-700 mt-4\",\n        children: \"Recognize Gesture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), gesture ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-6 text-lg text-gray-600\",\n        children: [\"Recognized Gesture: \", gesture]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-6 text-lg text-gray-600\",\n        children: \"Gesture will appear here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoRecognition, \"OxRrWWjMxll0NXZhwSe3zoKZuaY=\");\n_c = VideoRecognition;\nexport default VideoRecognition;\nvar _c;\n$RefreshReg$(_c, \"VideoRecognition\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsxDEV","_jsxDEV","VideoRecognition","_s","gesture","setGesture","error","setError","videoRef","startVideo","console","log","constraints","video","width","ideal","height","facingMode","stream","navigator","mediaDevices","getUserMedia","current","srcObject","err","recognizeGestureFromVideo","canvas","document","createElement","videoWidth","videoHeight","getContext","drawImage","dataUrl","toDataURL","response","post","image","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","playsInline","onClick","_c","$RefreshReg$"],"sources":["C:/Mediapipe/sign-language-translator/src/Pages/VideoRecon.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst VideoRecognition = () => {\r\n  const [gesture, setGesture] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const videoRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const startVideo = async () => {\r\n      try {\r\n        console.log('Requesting access to webcam...');\r\n        const constraints = {\r\n          video: {\r\n            width: { ideal: 1280 },\r\n            height: { ideal: 720 },\r\n            facingMode: 'user'\r\n          }\r\n        };\r\n        const stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n        console.log('Access granted to webcam.');\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream;\r\n        }\r\n      } catch (err) {\r\n        setError('Could not start video source');\r\n        console.error('Error accessing webcam: ', err);\r\n      }\r\n    };\r\n    startVideo();\r\n  }, []);\r\n\r\n  const recognizeGestureFromVideo = async () => {\r\n    if (!videoRef.current) return;\r\n\r\n    const video = videoRef.current;\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = video.videoWidth;\r\n    canvas.height = video.videoHeight;\r\n    canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);\r\n    const dataUrl = canvas.toDataURL('image/jpeg');\r\n    \r\n    console.log('Captured frame:', dataUrl);\r\n\r\n    try {\r\n      const response = await axios.post('/api/recognize_video', { image: dataUrl });\r\n      console.log('Response from server:', response.data);\r\n      setGesture(response.data.gesture);\r\n    } catch (error) {\r\n      console.error('Error recognizing gesture:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-screen\">\r\n      <div className=\"w-1/2 flex justify-center items-center bg-gray-200\">\r\n        {error ? (\r\n          <p className=\"text-red-500\">{error}</p>\r\n        ) : (\r\n          <video ref={videoRef} className=\"w-full h-auto border border-gray-300\" autoPlay playsInline></video>\r\n        )}\r\n      </div>\r\n      <div className=\"w-1/2 flex flex-col justify-center items-center bg-gray-100\">\r\n        <h1 className=\"text-3xl font-bold mb-4\">Real-Time Video Gesture Recognition</h1>\r\n        <button \r\n          onClick={recognizeGestureFromVideo} \r\n          className=\"bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-700 mt-4\"\r\n        >\r\n          Recognize Gesture\r\n        </button>\r\n        {gesture ? (\r\n          <p className=\"mt-6 text-lg text-gray-600\">Recognized Gesture: {gesture}</p>\r\n        ) : (\r\n          <p className=\"mt-6 text-lg text-gray-600\">Gesture will appear here</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoRecognition;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}